# å¦‚ä½•å‘å¸ƒæ–°ç‰ˆæœ¬

> ğŸŒ [EN](../versioning-and-releases.md) | [PT](../pt/versioning-and-releases.md) | [ES](../es/versioning-and-releases.md)

---

## è‡ªåŠ¨åŒ–å‘å¸ƒï¼ˆæ¨èï¼‰

å‘å¸ƒæ–°ç‰ˆæœ¬çš„æœ€ç®€å•æ–¹æ³•æ˜¯é€šè¿‡**è‡ªåŠ¨è¯­ä¹‰å‘å¸ƒ**ã€‚åªéœ€ä½¿ç”¨æ­£ç¡®çš„æ¶ˆæ¯æ ¼å¼è¿›è¡Œæäº¤å¹¶æ¨é€ï¼Œå…¶ä»–ä¸€åˆ‡éƒ½ä¼šè‡ªåŠ¨å‘ç”Ÿã€‚

### æäº¤æ¶ˆæ¯æ ¼å¼

ä½¿ç”¨è¿™äº›å‰ç¼€æ¥æ§åˆ¶å‘ç”Ÿä»€ä¹ˆç±»å‹çš„å‘å¸ƒï¼š

```bash
fix: resolve CLI argument parsing bug      # â†’ è¡¥ä¸å‘å¸ƒ (4.1.0 â†’ 4.1.1)
feat: add new agent orchestration mode     # â†’ æ¬¡è¦å‘å¸ƒ (4.1.0 â†’ 4.2.0)
feat!: redesign CLI interface              # â†’ ä¸»è¦å‘å¸ƒ (4.1.0 â†’ 5.0.0)
```

### è‡ªåŠ¨å‘ç”Ÿçš„äº‹æƒ…

å½“æ‚¨æ¨é€å¸¦æœ‰ `fix:` æˆ– `feat:` çš„æäº¤æ—¶ï¼ŒGitHub Actions å°†ï¼š

1. âœ… åˆ†ææ‚¨çš„æäº¤æ¶ˆæ¯
2. âœ… åœ¨ `package.json` ä¸­å¢åŠ ç‰ˆæœ¬
3. âœ… ç”Ÿæˆæ›´æ”¹æ—¥å¿—
4. âœ… åˆ›å»º git æ ‡ç­¾
5. âœ… **è‡ªåŠ¨å‘å¸ƒåˆ° NPM**
6. âœ… ä½¿ç”¨å‘è¡Œè¯´æ˜åˆ›å»º GitHub å‘å¸ƒ

### æ‚¨çš„ç®€å•å·¥ä½œæµ

```bash
# è¿›è¡Œæ›´æ”¹
git add .
git commit -m "feat: add team collaboration mode"
git push

# å°±è¿™æ ·ï¼å‘å¸ƒä¼šè‡ªåŠ¨å‘ç”Ÿ
# ç”¨æˆ·ç°åœ¨å¯ä»¥è¿è¡Œï¼šnpx @synkra/aios-coreï¼ˆå¹¶è·å¾—æ–°ç‰ˆæœ¬ï¼‰
```

### ä¸è§¦å‘å‘å¸ƒçš„æäº¤

è¿™äº›æäº¤ç±»å‹ä¸ä¼šåˆ›å»ºå‘å¸ƒï¼ˆå°†å…¶ç”¨äºç»´æŠ¤ï¼‰ï¼š

```bash
chore: update dependencies     # æ— å‘å¸ƒ
docs: fix typo in readme      # æ— å‘å¸ƒ
style: format code            # æ— å‘å¸ƒ
test: add unit tests          # æ— å‘å¸ƒ
```

### æµ‹è¯•æ‚¨çš„è®¾ç½®

```bash
npm run release:test    # å®‰å…¨åœ¨æœ¬åœ°è¿è¡Œ - æµ‹è¯•é…ç½®
```

---

## æ‰‹åŠ¨å‘å¸ƒæ–¹æ³•ï¼ˆä»…é™ä¾‹å¤–ï¼‰

å¦‚æœéœ€è¦ç»•è¿‡è‡ªåŠ¨ç³»ç»Ÿï¼Œä»…ä½¿ç”¨è¿™äº›æ–¹æ³•ã€‚

### å¿«é€Ÿæ‰‹åŠ¨ç‰ˆæœ¬å¢åŠ 

```bash
npm run version:patch   # 4.1.0 â†’ 4.1.1 (bug fixes)
npm run version:minor   # 4.1.0 â†’ 4.2.0 (new features)
npm run version:major   # 4.1.0 â†’ 5.0.0 (breaking changes)

# ç„¶åæ‰‹åŠ¨å‘å¸ƒï¼š
npm publish
git push && git push --tags
```

### æ‰‹åŠ¨ GitHub Actions è§¦å‘

å¦‚æœéœ€è¦ï¼Œæ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ GitHub Actions å·¥ä½œæµåˆ†æ´¾æ‰‹åŠ¨è§¦å‘å‘å¸ƒã€‚

---

## æ•…éšœæ’é™¤

### æœªè§¦å‘å‘å¸ƒ

å¦‚æœæ‚¨çš„åˆå¹¶åˆ° `main` æœªè§¦å‘å‘å¸ƒï¼š

1. **æ£€æŸ¥æäº¤æ¶ˆæ¯** - ä»… `fix:` å’Œ `feat:` å‰ç¼€è§¦å‘å‘å¸ƒ
2. **éªŒè¯ CI é€šè¿‡** - å¦‚æœ lintã€typecheck å’Œ test é€šè¿‡ï¼Œå‘å¸ƒæ‰ä¼šè¿è¡Œ
3. **æ£€æŸ¥å·¥ä½œæµæ—¥å¿—** - è½¬åˆ°"æ“ä½œ"â†’"è¯­ä¹‰å‘å¸ƒ"ä»¥æŸ¥çœ‹è¯¦æƒ…

### å‘å¸ƒå¤±è´¥

å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼š

| é”™è¯¯ | è§£å†³æ–¹æ¡ˆ |
|------|----------|
| `ENOGHTOKEN` | GITHUB_TOKEN å¯†é’¥ç¼ºå¤±æˆ–è¿‡æœŸ |
| `ENOPKGAUTH` | NPM_TOKEN å¯†é’¥ç¼ºå¤±æˆ–æ— æ•ˆ |
| `ENOTINHISTORY` | åˆ†æ”¯æ²¡æœ‰æ­£ç¡®çš„å†å²ï¼ˆä½¿ç”¨ `fetch-depth: 0`ï¼‰ |
| `EINVALIDNPMTOKEN` | é‡æ–°ç”Ÿæˆå…·æœ‰å‘å¸ƒæƒé™çš„ NPM ä»¤ç‰Œ |

### è·³è¿‡å‘å¸ƒ

è¦åœ¨ä¸è§¦å‘å‘å¸ƒçš„æƒ…å†µä¸‹è¿›è¡Œåˆå¹¶ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å…¶ä¸­ä¸€ç§ï¼š

```bash
# æ–¹æ³• 1ï¼šä½¿ç”¨éå‘å¸ƒå‰ç¼€
git commit -m "chore: update dependencies"

# æ–¹æ³• 2ï¼šå°† [skip ci] æ·»åŠ åˆ°æäº¤æ¶ˆæ¯
git commit -m "feat: new feature [skip ci]"
```

### å¼ºåˆ¶æ‰‹åŠ¨å‘å¸ƒ

å¦‚æœè‡ªåŠ¨å‘å¸ƒå¤±è´¥ï¼Œæ‚¨å¯ä»¥æ‰‹åŠ¨å‘å¸ƒï¼š

```bash
npm run version:patch   # æˆ– minor/major
git push && git push --tags
npm publish
```

---

## é…ç½®æ–‡ä»¶

| æ–‡ä»¶ | ç›®çš„ |
|------|------|
| `.releaserc.json` | è¯­ä¹‰å‘å¸ƒé…ç½® |
| `.github/workflows/semantic-release.yml` | GitHub Actions å·¥ä½œæµ |
| `package.json` | ç‰ˆæœ¬æºï¼Œnpm è„šæœ¬ |

---

*ä¸Šæ¬¡æ›´æ–°ï¼šStory 6.17 - è¯­ä¹‰å‘å¸ƒè‡ªåŠ¨åŒ–*
