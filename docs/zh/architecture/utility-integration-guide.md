<!-- ç¿»è¯‘: ZH-CN | åŸæ–‡: /docs/en/architecture/utility-integration-guide.md | åŒæ­¥: 2026-02-22 -->

# å·¥å…·é›†æˆæŒ‡å—

> ğŸŒ [EN](../../architecture/utility-integration-guide.md) | [PT](../../pt/architecture/utility-integration-guide.md) | **ZH** | [ES](../../es/architecture/utility-integration-guide.md)

---

**ç‰ˆæœ¬:** 1.0.0
**åˆ›å»ºäº:** 2025-10-29
**ä½œè€…:** Sarah (@po)ã€Winston (@architect)
**ç›®çš„:** ä¸ºåœ¨ AIOS æ¡†æ¶ä¸­é›†æˆå·¥å…·è„šæœ¬å®šä¹‰æ¨¡å¼

---

## ä»€ä¹ˆæ˜¯å·¥å…·é›†æˆ?

**å®šä¹‰:** å·¥å…·é›†æˆæ˜¯ä½¿å­¤ç«‹å·¥å…·è„šæœ¬**å¯å‘ç°ã€æ–‡æ¡£åŒ–å’Œå¯ç”¨**çš„è¿‡ç¨‹ï¼Œä½äº AIOS æ¡†æ¶å†…ã€‚

å·¥å…·è¢«è®¤ä¸º**å®Œå…¨é›†æˆ**å½“:
1. âœ… **å·²æ³¨å†Œ** åœ¨ core-config.yaml ä¸­
2. âœ… **è¢«å¼•ç”¨** è‡³å°‘ç”±ä¸€ä¸ªä»£ç†æˆ–ä»»åŠ¡
3. âœ… **å·²æ–‡æ¡£åŒ–** åŒ…å«ç›®çš„å’Œç”¨æ³•
4. âœ… **å·²æµ‹è¯•** ä»¥ç¡®ä¿æ­£ç¡®åŠ è½½
5. âœ… **å¯å‘ç°** é€šè¿‡æ¡†æ¶æœºåˆ¶

---

## é›†æˆæ¨¡å¼

### æ¨¡å¼ 1: ä»£ç†è¾…åŠ©å·¥å…·

**ä½•æ—¶ä½¿ç”¨:** å·¥å…·æä¾›ä»£ç†ç›´æ¥ä½¿ç”¨çš„è¾…åŠ©å‡½æ•°

**é›†æˆæ­¥éª¤:**
1. å°†å·¥å…·æ·»åŠ åˆ°ç›®æ ‡ä»£ç†çš„ `dependencies.utils` æ•°ç»„
2. åœ¨ä»£ç†æ–‡ä»¶ä¸­è®°å½•å·¥å…·çš„ç›®çš„
3. åœ¨ core-config.yaml ä¸­æ³¨å†Œ (å¦‚æœè¿˜æœªæ³¨å†Œ)
4. æµ‹è¯•ä»£ç†æ˜¯å¦æˆåŠŸåŠ è½½å·¥å…·

**ç¤ºä¾‹: util-batch-creator**

```yaml
# .aios-core/agents/dev.yaml
id: dev
name: å¼€å‘ä»£ç†
dependencies:
  utils:
    - batch-creator  # åˆ›å»ºç›¸å…³ä»»åŠ¡çš„æ‰¹æ¬¡
    - code-quality-improver
```

**ä¿®æ”¹çš„æ–‡ä»¶:**
- `.aios-core/agents/{agent}.yaml` (æ·»åŠ åˆ° dependencies.utils)
- `.aios-core/core-config.yaml` (å¦‚å¿…è¦åˆ™æ³¨å†Œ)
- `.aios-core/utils/README.md` (è®°å½•å·¥å…·)

---

### æ¨¡å¼ 2: ä»»åŠ¡æ‰§è¡Œå·¥å…·

**ä½•æ—¶ä½¿ç”¨:** å·¥å…·ç”±ä»»åŠ¡åœ¨æ‰§è¡ŒæœŸé—´è°ƒç”¨

**é›†æˆæ­¥éª¤:**
1. è¯†åˆ«æˆ–åˆ›å»ºä½¿ç”¨å·¥å…·çš„ä»»åŠ¡
2. åœ¨ä»»åŠ¡çš„ `execution.utils` éƒ¨åˆ†æ·»åŠ å·¥å…·å¼•ç”¨
3. è®°å½•ä»»åŠ¡å¦‚ä½•ä½¿ç”¨å·¥å…·
4. åœ¨ core-config.yaml ä¸­æ³¨å†Œ (å¦‚å¿…è¦)
5. ä½¿ç”¨å·¥å…·æµ‹è¯•ä»»åŠ¡æ‰§è¡Œ

**ç¤ºä¾‹: util-commit-message-generator**

```yaml
# .aios-core/tasks/generate-commit-message.md
id: generate-commit-message
name: ç”Ÿæˆæäº¤ä¿¡æ¯
execution:
  utils:
    - commit-message-generator  # è¯¥ä»»åŠ¡çš„ä¸»å·¥å…·
  steps:
    - åˆ†ææš‚å­˜çš„æ›´æ”¹
    - ä½¿ç”¨å·¥å…·ç”Ÿæˆè¯­ä¹‰æäº¤ä¿¡æ¯
    - å‘ç”¨æˆ·å‘ˆç°ä¿¡æ¯ä»¥æ‰¹å‡†
```

**ä¿®æ”¹çš„æ–‡ä»¶:**
- `.aios-core/tasks/{task}.md` (æ·»åŠ  execution.utils)
- `.aios-core/agents/{agent}.yaml` (æ·»åŠ ä»»åŠ¡åˆ° executes åˆ—è¡¨)
- `.aios-core/core-config.yaml` (å¦‚å¿…è¦åˆ™æ³¨å†Œ)
- `.aios-core/utils/README.md` (è®°å½•å·¥å…·)

---

### æ¨¡å¼ 3: æ¡†æ¶åŸºç¡€è®¾æ–½å·¥å…·

**ä½•æ—¶ä½¿ç”¨:** å·¥å…·ç”±æ¡†æ¶æœ¬èº«ä½¿ç”¨ï¼Œè€Œä¸æ˜¯ç”±ä»£ç†/ä»»åŠ¡ç›´æ¥ä½¿ç”¨

**é›†æˆæ­¥éª¤:**
1. åœ¨ core-config.yaml çš„é€‚å½“ç±»åˆ«ä¸­æ³¨å†Œ
2. åœ¨ utils/README.md ä¸­è®°å½•ä¸º "æ¡†æ¶å·¥å…·"
3. æ·»åŠ åˆ°æ¡†æ¶æ–‡æ¡£
4. æµ‹è¯•å·¥å…·åœ¨æ¡†æ¶ä¸Šä¸‹æ–‡ä¸­åŠ è½½

**ç¤ºä¾‹: util-elicitation-engine**

```yaml
# .aios-core/core-config.yaml
utils:
  framework:
    - elicitation-engine  # ç”¨äºä»£ç†åˆ›å»ºå·¥ä½œæµ
    - aios-validator
```

**ä¿®æ”¹çš„æ–‡ä»¶:**
- `.aios-core/core-config.yaml` (åœ¨æ¡†æ¶ä¸­æ³¨å†Œ)
- `.aios-core/utils/README.md` (è®°å½•ä¸ºæ¡†æ¶å·¥å…·)
- æ¡†æ¶æ–‡æ¡£ (å¦‚é€‚ç”¨)

---

### æ¨¡å¼ 4: æ–‡æ¡£/åˆ†æå·¥å…·

**ä½•æ—¶ä½¿ç”¨:** å·¥å…·æ‰§è¡Œåˆ†ææˆ–æ–‡æ¡£ç”Ÿæˆ

**é›†æˆæ­¥éª¤:**
1. æ·»åŠ åˆ°ç›¸å…³ä»£ç†çš„å·¥å…· (é€šå¸¸æ˜¯ architectã€qa æˆ–æ–‡æ¡£ä»£ç†)
2. åˆ›å»ºæˆ–æ›´æ–°ä½¿ç”¨å·¥å…·çš„ä»»åŠ¡
3. è®°å½•åˆ†æ/è¾“å‡ºæ ¼å¼
4. åœ¨ core-config.yaml ä¸­æ³¨å†Œ

**ç¤ºä¾‹: util-documentation-synchronizer**

```yaml
# .aios-core/agents/architect.yaml
dependencies:
  utils:
    - documentation-synchronizer  # ä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥
    - dependency-analyzer
```

**ä¿®æ”¹çš„æ–‡ä»¶:**
- `.aios-core/agents/{agent}.yaml`
- `.aios-core/tasks/{task}.md` (å¦‚åˆ›å»ºä»»åŠ¡)
- `.aios-core/core-config.yaml`
- `.aios-core/utils/README.md`

---

## é›†æˆå·¥ä½œæµ

### æ ‡å‡†æµç¨‹ (é€‚ç”¨äºæ‰€æœ‰æ¨¡å¼):

```
1. åˆ†æ
   â”œâ”€ æ£€æŸ¥å·¥å…·ä»£ç ä»¥ç†è§£ç›®çš„
   â”œâ”€ è¯†åˆ«å·¥å…·ç±»åˆ« (è¾…åŠ©ã€æ‰§è¡Œå™¨ã€åˆ†æå™¨ç­‰)
   â””â”€ ç¡®å®šé€‚å½“çš„é›†æˆæ¨¡å¼

2. æ˜ å°„
   â”œâ”€ è¯†åˆ«åº”ä½¿ç”¨å·¥å…·çš„ç›®æ ‡ä»£ç†
   â”œâ”€ è¯†åˆ«æˆ–åˆ›å»ºè°ƒç”¨å·¥å…·çš„ä»»åŠ¡
   â””â”€ è®°å½•æ˜ å°„å†³ç­–

3. é›†æˆ
   â”œâ”€ å°†å·¥å…·å¼•ç”¨æ·»åŠ åˆ°ä»£ç†/ä»»åŠ¡æ–‡ä»¶
   â”œâ”€ åœ¨ core-config.yaml ä¸­æ³¨å†Œ (å¦‚å¿…è¦)
   â””â”€ åœ¨ utils/README.md ä¸­è®°å½•

4. æµ‹è¯•
   â”œâ”€ åŠ è½½å·¥å…·ä»¥éªŒè¯æ— é”™è¯¯
   â”œâ”€ åŠ è½½ä»£ç†ä»¥éªŒè¯ä¾èµ–è§£æ
   â”œâ”€ å¦‚é€‚ç”¨åˆ™æµ‹è¯•ä»»åŠ¡æ‰§è¡Œ
   â””â”€ è¿è¡Œé—´éš™æ£€æµ‹ä»¥éªŒè¯æ­£ç¡®æ€§

5. æ–‡æ¡£
   â”œâ”€ åœ¨ README ä¸­æ·»åŠ å·¥å…·æè¿°
   â”œâ”€ è®°å½•ç”¨æ³•æ¨¡å¼
   â”œâ”€ æ³¨è§£ä½¿ç”¨å®ƒçš„ä»£ç†/ä»»åŠ¡
   â””â”€ æ›´æ–°æ¶æ„å›¾
```

---

## å·¥å…·åˆ†ç±»

å·¥å…·åº”è¿›è¡Œåˆ†ç±»ä»¥ä¾¿äºé›†æˆ:

### ç±»åˆ« 1: ä»£ç è´¨é‡
**ç›®çš„:** åˆ†æã€æ”¹è¿›ã€éªŒè¯ä»£ç 
**æ¨¡å¼:** ä»£ç†è¾…åŠ©å·¥å…· (ä»£ç† devã€qa)
**ç¤ºä¾‹:** aios-validatorã€code-quality-improverã€coverage-analyzer

### ç±»åˆ« 2: Git/å·¥ä½œæµ
**ç›®çš„:** Git æ“ä½œã€å·¥ä½œæµè‡ªåŠ¨åŒ–
**æ¨¡å¼:** ä»»åŠ¡æ‰§è¡Œ (ä»£ç† devã€github-devops)
**ç¤ºä¾‹:** commit-message-generatorã€branch-managerã€conflict-resolver

### ç±»åˆ« 3: ç»„ä»¶ç®¡ç†
**ç›®çš„:** ç”Ÿæˆã€ç®¡ç†ã€æœç´¢ç»„ä»¶
**æ¨¡å¼:** ä»£ç†è¾…åŠ©å·¥å…· + ä»»åŠ¡æ‰§è¡Œ
**ç¤ºä¾‹:** component-generatorã€component-searchã€deprecation-manager

### ç±»åˆ« 4: æ–‡æ¡£
**ç›®çš„:** ç”Ÿæˆã€åŒæ­¥ã€åˆ†ææ–‡æ¡£
**æ¨¡å¼:** æ–‡æ¡£å·¥å…· (ä»£ç† architectã€docs)
**ç¤ºä¾‹:** documentation-synchronizerã€dependency-impact-analyzer

### ç±»åˆ« 5: æ‰¹å¤„ç†/è¾…åŠ©
**ç›®çš„:** æ‰¹é‡æ“ä½œã€æ¡†æ¶è¾…åŠ©
**æ¨¡å¼:** å˜åŒ– (ä»£ç†è¾…åŠ©å·¥å…·æˆ–æ¡†æ¶)
**ç¤ºä¾‹:** batch-creatorã€clickup-helpersã€elicitation-engine

---

## æµ‹è¯•è¦æ±‚

### å¯¹äºæ¯ä¸ªé›†æˆçš„å·¥å…·:

**1. åŠ è½½æµ‹è¯•**
```javascript
// éªŒè¯å·¥å…·åŠ è½½æ— é”™è¯¯
const utility = require('.aios-core/utils/{utility-name}');
// ä¸åº”æŠ›å‡ºé”™è¯¯
```

**2. å¼•ç”¨éªŒè¯**
```bash
# éªŒè¯ä»£ç†/ä»»åŠ¡å¼•ç”¨æœ‰æ•ˆ
node outputs/architecture-map/schemas/validate-tool-references.js
```

**3. é—´éš™æ£€æµ‹**
```bash
# éªŒè¯é—´éš™å·²è§£å†³
node outputs/architecture-map/schemas/detect-gaps.js
# åº”æ˜¾ç¤º 0 ä¸ªå·¥å…·é—´éš™
```

**4. é›†æˆæµ‹è¯•** (å¦‚é€‚ç”¨)
```javascript
// éªŒè¯ä»£ç†åŠ è½½å·¥å…·ä¾èµ–
const agent = loadAgent('agent-name');
// åº”åœ¨è§£æçš„ä¾èµ–ä¸­åŒ…å«å·¥å…·
```

---

## æ–‡æ¡£è¦æ±‚

### utils/README.md ä¸­çš„æ¨¡æ¿æ¡ç›®:

```markdown
### util-{name}

**ç›®çš„:** å·¥å…·æ‰§è¡ŒåŠŸèƒ½çš„ç®€è¦æè¿°

**ç”±ä»¥ä¸‹ä½¿ç”¨:**
- agent-{name} (ç”¨äº {ç›®çš„})
- task-{name} (åœ¨ {é˜¶æ®µ} æœŸé—´)

**é›†æˆæ¨¡å¼:** {æ¨¡å¼-åç§°}

**ä½ç½®:** `.aios-core/utils/{name}.js`

**ä½¿ç”¨ç¤ºä¾‹:**
\`\`\`javascript
const util = require('./utils/{name}');
// ä»£ç ç¤ºä¾‹
\`\`\`
```

---

## core-config.yaml ä¸­çš„æ³¨å†Œ

### å°†å·¥å…·æ·»åŠ åˆ°é€‚å½“çš„éƒ¨åˆ†:

```yaml
utils:
  # ä»£ç†è¾…åŠ©å·¥å…·
  helpers:
    - batch-creator
    - code-quality-improver

  # ä»»åŠ¡æ‰§è¡Œå·¥å…·
  executors:
    - commit-message-generator
    - component-generator

  # æ¡†æ¶åŸºç¡€è®¾æ–½å·¥å…·
  framework:
    - elicitation-engine
    - aios-validator

  # åˆ†æ/æ–‡æ¡£å·¥å…·
  analyzers:
    - documentation-synchronizer
    - dependency-analyzer
```

---

## æˆåŠŸæ ‡å‡†

å·¥å…·é›†æˆæˆåŠŸæ—¶:

âœ… **å¯å‘ç°:**
- åœ¨ core-config.yaml ä¸­åˆ—å‡º
- åœ¨ utils/README.md ä¸­è®°å½•
- ç”±ä»£ç†/ä»»åŠ¡å¼•ç”¨

âœ… **åŠŸèƒ½æ€§:**
- åŠ è½½æ— é”™è¯¯
- ä»£ç†/ä»»åŠ¡å¯ä½¿ç”¨å®ƒ
- æµ‹è¯•é€šè¿‡

âœ… **å·²éªŒè¯:**
- é—´éš™æ£€æµ‹æ˜¾ç¤º 0 ä¸ªé—´éš™
- å¼•ç”¨éªŒè¯é€šè¿‡
- é›†æˆæµ‹è¯•é€šè¿‡

âœ… **å·²æ–‡æ¡£åŒ–:**
- ç›®çš„æ¸…æ™°è¡¨è¿°
- æä¾›ä½¿ç”¨ç¤ºä¾‹
- å·²è¯†åˆ«é›†æˆæ¨¡å¼

---

## å¸¸è§é™·é˜±

âŒ **ä¸è¦:** æ·»åŠ å·¥å…·åˆ°ä»£ç†è€Œä¸ç†è§£å…¶ç›®çš„
âœ… **è¦:** é¦–å…ˆæ£€æŸ¥ä»£ç ï¼Œç†è§£åŠŸèƒ½

âŒ **ä¸è¦:** å¦‚æœç°æœ‰ä»»åŠ¡å¯ä½¿ç”¨åˆ™åˆ›å»ºæ–°ä»»åŠ¡
âœ… **è¦:** åœ¨é€‚å½“æ—¶æ‰©å±•ç°æœ‰ä»»åŠ¡

âŒ **ä¸è¦:** æ³¨å†Œè€Œä¸æ–‡æ¡£åŒ–
âœ… **è¦:** å§‹ç»ˆæ·»åŠ  README æ¡ç›®

âŒ **ä¸è¦:** è·³è¿‡æµ‹è¯•
âœ… **è¦:** éªŒè¯å·¥å…·åŠ è½½å¹¶è§£æ

---

## å¿«é€Ÿå‚è€ƒ

| æ¨¡å¼ | ç›®æ ‡ | ä¿®æ”¹çš„æ–‡ä»¶ | æµ‹è¯• |
|------|------|----------|------|
| ä»£ç†è¾…åŠ©å·¥å…· | Agent YAML | agent.yamlã€core-configã€README | åŠ è½½ä»£ç† |
| ä»»åŠ¡æ‰§è¡Œ | Task MD + Agent | task.mdã€agent.yamlã€core-configã€README | æ‰§è¡Œä»»åŠ¡ |
| æ¡†æ¶ | æ¡†æ¶ | core-configã€READMEã€æ–‡æ¡£ | åŠ è½½å·¥å…· |
| æ–‡æ¡£ | Architect/Docs | agent.yamlã€core-configã€README | é—´éš™æ£€æµ‹ |

---

**æŒ‡å—ç‰ˆæœ¬:** 1.0.0
**æœ€åæ›´æ–°:** 2025-10-29
**ç»´æŠ¤è€…:** Winston (@architect)
